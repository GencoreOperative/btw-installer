TODO: JFileChooser dialog bug on Windows
TODO: JitWatch - Stream Copy is called many times.
TODO: Move project to Github
TODO: Release to general public

TODO: Server Mode!
===
#!/bin/bash
# A script which automates the installation of a new version of BTW

# Cleanup
[ -f minecraft_server.jar ] && rm minecraft_server.jar

# Merge in patch
#VERSION=BTWMod4-A2TimingRodentb
VERSION=BTWMod4-A3HeadedBeastie

[ ! -d $VERSION ] && echo "BTW Folder $VERSION missing" && exit -1

# Download and unpack server
mkdir tmp
curl https://s3.amazonaws.com/Minecraft.Download/versions/1.5.2/minecraft_server.1.5.2.jar -o tmp/minecraft_server.jar
cd tmp && jar xf minecraft_server.jar && rm minecraft_server.jar && cd ..

# Overlay the new patch files
cp $VERSION/MINECRAFT_SERVER-JAR/* tmp

# Package minecraft server
cd tmp && jar cvfe minecraft_server.jar net.minecraft.server.MinecraftServer * && mv minecraft_server.jar ../minecraft_server.jar && cd ..

# Cleanup
rm -rf tmp

# Copy the BTW Config
cp $VERSION/BTWConfig.txt .
===